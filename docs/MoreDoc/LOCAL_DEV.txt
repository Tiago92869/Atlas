ATLAS â€” LOCAL DEVELOPMENT (Quick Start)

1) Requirements
- Docker + Docker Compose
- Python 3.12+ (local dev)
- (Optional) uv or poetry for dependency management

2) Start the infrastructure
From repo root:
- docker compose -f infra/docker-compose.yml up -d

This should bring up:
- Postgres
- Kafka (+ Zookeeper)
- Elasticsearch
- api, indexer, audit, worker (if you built them)

3) Run only dependencies (if you want to run API locally without docker build)
- docker compose -f infra/docker-compose.yml up -d postgres kafka elasticsearch

4) Run API locally
- cd services/api
- uv sync (or poetry install)
- uv run uvicorn app.main:app --reload --port 8000

5) Open API docs
- http://localhost:8000/docs

6) Database migrations (planned with Alembic)
- Create migration:
  alembic revision --autogenerate -m "init"
- Apply:
  alembic upgrade head

7) Run tests
- pytest -q

8) Useful troubleshooting
- Check container logs:
  docker compose -f infra/docker-compose.yml logs -f api
- Reset all data (WARNING deletes volumes):
  docker compose -f infra/docker-compose.yml down -v
