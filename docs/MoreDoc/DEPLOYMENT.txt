ATLAS — DEPLOYMENT PLAN (Lean)

Goal: Deploy Atlas to Google Cloud using a managed, cloud-native approach.

Target architecture on GCP
- GKE Autopilot: runs services (api, indexer, audit, worker)
- Cloud SQL (Postgres): managed database (source of truth)
- Logging/Monitoring: GCP native observability

Kafka & Elasticsearch strategy
- Portfolio approach: run Kafka + Elasticsearch inside the cluster (simpler for learning/demo)
- Optional upgrade: replace Kafka with Pub/Sub for “GCP-native eventing”

Deployment phases
1) Containerize services
- Dockerfile for each service
- Build + run via docker-compose locally

2) Local Kubernetes (optional but recommended)
- Use kind/minikube
- Create k8s manifests/Helm:
  - Deployments, Services, Ingress
  - ConfigMaps/Secrets
  - liveness/readiness probes
  - resource requests/limits

3) GCP setup
- Create Artifact Registry repository for images
- Create GKE Autopilot cluster
- Create Cloud SQL Postgres instance
- Configure networking access from GKE to Cloud SQL
- Store secrets safely (Secret Manager recommended)

4) CI/CD pipeline (DevSecOps)
Pipeline steps:
- Lint + typecheck + tests
- Build images
- Dependency vulnerability scan
- Secrets scan
- Container image scan
- Push to Artifact Registry
- Deploy to GKE

5) Production readiness checklist
- Health endpoints (/health, /ready)
- Structured logs with request_id/trace_id
- Metrics endpoint
- Database migrations strategy (job or init container)
- Rollback plan

Deliverables that look great on CV
- “Deployed event-driven system on GKE Autopilot with Cloud SQL”
- “CI/CD with security scanning and automated deployments”
- “Observability and runbooks for troubleshooting”
